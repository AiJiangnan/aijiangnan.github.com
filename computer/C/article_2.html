<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="../content.css">
	<link rel="stylesheet" href="../../stylesheets/prism.css">
	<script src="../../javascript/prism.js"></script>
</head>
<body>
	<h1>C语言数据类型</h1>
	<table border="1" width="80%">
		<tr>
			<td rowspan="11">C语言数据类型</td><td rowspan="6">基本类型</td><td rowspan="2">整型</td><td>短整型（short int）</td>
		</tr>
		<tr>
			<td>长整型（long int）</td>
		</tr>
		<tr>
			<td colspan="2">字符型（char）</td>
		</tr>
		<tr>
			<td rowspan="2">实型（浮点型）</td><td>单精度（float）</td>
		</tr>
		<tr>
			<td>双精度（double）</td>
		</tr>
		<tr>
			<td colspan="2">枚举类型（enum）</td>
		</tr>
		<tr>
			<td rowspan="3">构造类型</td><td colspan="2">数组类型</td>
		</tr>
		<tr>
			<td colspan="2">结构体类型（struct）</td>
		</tr>
		<tr>
			<td colspan="2">共用体类型（union）</td>
		</tr>
		<tr>
			<td colspan="3">指针类型</td>
		</tr>
		<tr>
			<td colspan="3">空类型（void）</td>
		</tr>
	</table>
	<h2 id="P2_1">C语言标识符</h2>
	<p>C语言中标识符是用来标识变量名、符号常量名、函数名、数组名、类型名等程序对象的有效字符序列。简单的说，标识符就是一个名字。</p>
	<ol>
		<li>标识符的规定</li>
		<ol type="a">
			<li>标识符只能由英文字母(A~Z,a~z)、数字(0~9)和下划线三种字符组成，且第一个字符必须为字母或下划线。</li>
			<li>大小写字符代表不同标识符。一般对变量名命名用小写，符号常量命名用大写。</li>
			<li>不能使用C语言关键字作为用户自定义标识符。</li>
		</ol>
		<li>标识符的分类</li>
		<ol type="a">
			<li>关键字</li>
			<li>预定义标识符</li>
			<li>用户自定义标识符</li>
		</ol>
	</ol>
	<h2 id="P2_2">常量</h2>
	<p>常量又称常数，是指在程序运行中，其值不能被改变的量。常用的有：整型常量、实型常量、字符常量、字符串常量和符号常量。</p>
	<h3>整型常量</h3>
	<p>整型常量就是整常数，是由一个或多个数字组成，可以有正、负号，但不能有小数点。在C语言中，使用的整常数有八进制、十六进制和十进制三种。此外，整型常量还有整型、长整型和无符号之分。</p>
	<ol>
		<li>整型常量的前缀</li>
		<ol type="a">
			<li>十进制整常数。十进制整常数没有前缀。其数码取值为0~9。合法的十进制整常数：<code class="language-text">237、-568、65535、1627</code>。</li>
			<li>八进制整常数。八进制整常数必须以0开头，数码取值为0~7，八进制数通常是无符号型。合法的八进制数：<code class="language-text">015、0101、01777</code>。</li>
			<li>十六进制整常数。十六进制整常数的前缀为0X或0x，其数码取值为0~9，A~F或a~f，合法的十六进制整常数：<code class="language-text">0XA1、0XFFFE</code>。</li>
		</ol>
		<li>整型常数的后缀</li>
		<p>在16位字长的机器上，基本整型的长度为16位，因此表示的数的范围是有限定的。如果使用的数超过了范围，就必须用长整型来表示。长整型数是用后缀“L”和“l”来表示的。例如：<code class="language-text">158L、35800L</code>。长整数158L和基本整常数158在数值上并无区别。但对158L，因为是长整型量，C编译系统为它分配4个字节存储空间。而对158，因为是基本整型，只分配2个字节的存储空间。</p>
		<p>无符号数也用后缀表示，整型常数的无符号数的后缀为“U”或“u”。例如：<code class="language-text">358u、0x38Au、235Lu</code>。</p>
	</ol>
	<p>前缀和后缀可以同时使用以表示各种类型的数。</p>
	<p>三种进制表示方法的转换：</p>
	<pre><code class="language-c line-numbers">#include"stdio.h"
void main(){
	int x = 1246, y = 01246, z = 0x1246;
	printf("%d,%d,%d\n", x, y, z);
	printf("%o,%o,%o\n", x, y, z);
	printf("%x,%x,%x\n", x, y, z);
}</code></pre>
	<p>运行输出结果为：</p>
	<pre><code class="language-text">1246,678,4678
2336,1246,11106
4de,2a6,1246</code></pre>
	<h3>实型常量</h3>
	<p>在C语言中，把带小数的数值称为实数或浮点数。C语言实型常量只使用十进制数。有以下两种形式：</p>
	<ol>
		<li>十进制小数形式</li>
		<p>它是由正负号、整型部分、小数点、小数部分组成，如：<code class="language-text">3.14159, -7.2, 8.9</code>等都是十进制小数形式。</p>
		<li>指数形式</li>
		<p>它是由正负号、整型部分、小数点、小数部分和字母E或e后面带正负号的整数组成。如：十进制数180000.0=1.8×10<sup>5</sup>用指数法可以表示1.8e5，其中：1.8称为尾数，5称为指数。0.00123用指数法表示为1.23E-3。</p>
		<p><b>注意：e 前 e 后都有数，e 后必须为整数。</b></p>
	</ol>
	<h3>字符型常量</h3>
	<p>字符型常量是由一对单引号括起来的单个字符，在内存中占1个字符。例如：<code class="language-text">'A', 'b', '2', '%', ';'</code>等都是有效的字符型常量。注意：</p>
	<ul>
		<li>单引号只是作为定界符使用，并不是字符型常量的组成部分。</li>
		<li>单引号内的字符不可以上单引号或是反斜杠。</li>
		<li>一个字符型常量的值是该字符集中对应的ASCII编码值。</li>
		<li>字符常量在机器内以整数常量的形式存放，因此字符常量与整型常量等价。</li>
	</ul>
	<table border="1" width="600">
	<caption><b>C语言中常用的转义字符常量</b></caption>
	<tr>
		<th>字符形式</th><th>表示含义</th><th>字符形式</th><th>表示含义</th>
	</tr>
	<tr>
		<td align="center">\n</td><td>回车换行</td><td align="center">\\</td><td>反斜杠字符\</td>
	</tr>
	<tr>
		<td align="center">\t</td><td>水平制表符</td><td align="center">\'</td><td>单引号</td>
	</tr>
	<tr>
		<td align="center">\v</td><td>垂直制表符</td><td align="center">\"</td><td>双引号</td>
	</tr>
	<tr>
		<td align="center">\r</td><td>回车符</td><td align="center">\ddd</td><td>三位八进制数代表一个字符</td>
	</tr>
	<tr>
		<td align="center">\f</td><td>换页符</td><td align="center">\xhh</td><td>两位十六进制数代表一个字符</td>
	</tr>
	<tr>
		<td align="center">\b</td><td>退格符</td><td align="center">\0</td><td>空值，其ASCII码值为0</td>
	</tr>
	</table>
	<h3>符号常量</h3>
	<p>用一个特定的符号来代替一个常量或字符串，这个符号称为符号常量。符号常量一般用大写字母表示，以便与其他标识符相区别。符号常量的一般定义形式：</p>
	<pre><code class="language-c">#define 符号常量 常量(或“字符串”)</code></pre>
	<p>预处理命令<code class="language-c">#define</code>又称宏定义。一个<code class="language-c">#define</code>命令只能定义一个符号常量。因为它不是语句，所以结尾不用加分号。</p>
	<p>符号常量的使用：</p>
	<pre><code class="language-c line-numbers">#include"stdio.h"
#define PRICE 30
void main(){
	int num, total;
	num = 10;
	total = num*PRICE;
	printf("total=%d", total);
}</code></pre>
	<p>在上面例子中，PRICE是一个符号常量，它的值是30，因此程序中</p>
	<code class="language-c">total = num*PRICE;</code>
	<p>语句在编译时PRICE的值将被30代替。符号常量具有增强程序的通用性和可维护性的优点。如果一个程序中有多处使用同一个常量，这时可把该常量定义为一个符号常量。若需要修改该常量时，则只需要在定义处修改即可。可以做到一改全改，避免出现修改不完全或遗漏等错误。</p>
	<h2 id="P2_3">变量</h2>
	<p>变量是指在程序运行期间其值可以发生变化的量。一个变量在内存中占据一定的存储单元，在程序中从变量中取值，实际上是通过变量名找到相应的内存地址，从其存储单元中读取数据。在定义变量的同时要说明该变量的类型，系统编译时根据变量及其类型为它分配相应数量的存储空间。</p>
	<table border="1" width="500">
	<caption><b>C语言中的变量类型</b></caption>
	<tr>
		<td rowspan="4">变量</td><td rowspan="3">普通变量</td><td>整型变量（int）</td>
	</tr>
	<tr>
		<td>实型变量（float和double）</td>
	</tr>
	<tr>
		<td>字符型变量（char）</td>
	</tr>
	<tr>
		<td>地址变量</td><td>指针变量</td>
	</tr>
	</table>
	<p>变量名的命名规则与标识符定义规则相同。存放变量的内存地址，又为变量的指针。无论使用哪一种类型变量，都要“先定义，后使用”。</p>
	<h3>整型变量</h3>
	<p>整型变量是用来存放整型数据（即不带小数点的数）的变量。</p>
	<table border="1" width="600">
	<caption><b>各类整型量所占内存字节数及其表示范围</b></caption>
	<tr>
		<th>类型的说明符</th><th>数的范围</th><th>字节数</th>
	</tr>
	<tr>
		<td>int</td><td>-32768~32767，即-2<sup>15</sup>~(2<sup>15</sup>-1)</td><td align="center">2</td>
	</tr>
	<tr>
		<td>unsigned int</td><td>0~65535，即0~(2<sup>16</sup>-1)</td><td align="center">2</td>
	</tr>
	<tr>
		<td>short int</td><td>-32768~32767，即-2<sup>15</sup>~(2<sup>15</sup>-1)</td><td align="center">2</td>
	</tr>
	<tr>
		<td>unsigned short</td><td>0~65535，即0~(2<sup>16</sup>-1)</td><td align="center">2</td>
	</tr>
	<tr>
		<td>long int</td><td>-2147483648~2147483647，即-2<sup>31</sup>~(2<sup>31</sup>-1)</td><td align="center">4</td>
	</tr>
	<tr>
		<td>unsigned long</td><td>0~4294967295，即0~(2<sup>32</sup>-1)</td><td align="center">4</td>
	</tr>
	</table>
	<p>在不同的编译环境中，数据变量所占字符节数可能不一样，例如：在VC++6.0中int型变量占4个字节，而在Turbo C中int型变量占4个字节。</p>
	<p>下面说明一下各种类型是内存当中的表示：</p>
	<img src="../../image/C_language/C语言数据类型解析.png">
	<p>其他类型同理可以得出取值范围。</p>
	<p>整型数据的溢出：</p>
	<pre><code class="language-c line-numbers">#include"stdio.h"
void main(){
	short a, b;
	a = 32767;
	b = a + 1;
	printf("%d,%d", a, b);
	getchar();
}</code></pre>
	<p>输出结果为：</p>
	<pre><code class="language-text">32767,-32768</code></pre>
	<p>自己思考为什么 32767 + 1 会得出 -32768 的结果呢？</p>
	<h3>实型变量</h3>
	<p>实型变量又浮点型变量，在计算机中，实数一律是以指数形式存放的，而不是小数的形式。实型数据一般占4个字节（32位）内存空间，按指数形式存储。例如，实数3.14159在内存中的存放形式如下：</p>
	<img src="../../image/C_language/C语言浮点型数据类型.png">
	<p>小数部分占的位（bit）数愈多，数的有效数字愈多，精度俞高。指数部分的位数愈多，则能表示的数值范围愈大。</p>
	<table border="1" width="600" style="text-align:center">
	<caption><b>实型变量定义的类型说明符、位数、有效数字和所能表示的数值范围</b></caption>
	<tr>
		<th>类型说明答符</th><th>位数（字节数）</th><th>有效数字</th><th>数的范围</th>
	</tr>
	<tr>
		<td>float</td><td>32(4)</td><td>6~7</td><td>10<sup>-37</sup>~10<sup>38</sup></td>
	</tr>
	<tr>
		<td>double</td><td>64(8)</td><td>15~16</td><td>10<sup>-307</sup>~10<sup>308</sup></td>
	</tr>
	<tr>
		<td>long double</td><td>128(16)</td><td>18~19</td><td>10<sup>-4931</sup>~10<sup>4932</sup></td>
	</tr>
	</table>
	<p>实型数据的舍入误差：</p>
	<pre><code class="language-c line-numbers">#include"stdio.h"
void main()
{
	float a;
	double b;
	a = 33333.33333;
	b = 33333.33333333333333;
	printf("%f\n%f\n",a,b);
}</code></pre>
	<p>输出结果为：</p>
	<pre><code class="language-text">33333.332031
33333.333333</code></pre>
	<p>因为 a 是单精度浮点型，有效数字只有七位，而整数已占五位，故小数点后第三位起均为无效数字。而 b 是双精度型，有效位为十六位。可编译环境规定小数后最多保留六位，其余部分四舍五入。</p>
	<h3>字符型变量</h3>
	<p>字符变量用来存储字符常量，即单个字符。字符变量的类型说明符是 char 。每个字符变量分配一个字节的内存空间，因此只能存放一个字符。我们可以把字符型变量当作一个字节的整型变量使用。</p>
	<p>将一个整数赋值给一个字符变量：</p>
	<pre><code class="language-c line-numbers">#include"stdio.h"
void main()
{
	char a, b;
	a = 120;
	b = 121;
	printf("%c,%c\n",a,b);
	printf("%d,%d\n",a,b);
}</code></pre>
	<p>输出结果为：</p>
	<pre><code class="language-text">x,y
120,121</code></pre>
	<h3>变量的初始化</h3>
	<p>在程序中常常需要对变量赋初值。C语言程序中可有多种方法为变量提供初值。在变量定义的同时给变量赋以初值的方法，称为变量的初始化。</p>
	<h2 id="P2_4">不同类型数据的相互转换</h2>
	<p>在C语言中，允许不同类型的数据进行运算。变量的数据类型是可以转换的。转换的方法有两种：<b>自动转换</b>和<b>强制转换</b>。自动转换发生在不同数据类型的数据进行运算时，由编译系统自动完成。</p>
	<ol>
		<li>自动转换就遵循的规则</li>
		<ul>
			<li>若参与运算量的类型不同，则先转换成同一类型，然后再进行运算。</li>
			<li>转换按数据长度增加的方向进行，以保证精度不降低。</li>
			<li>所有的浮点运算都是以双精度进行的。</li>
			<li>char 型和 short 型参与运算时必先转换成 int 型。</li>
		</ul>
		<p>在赋值运算中，赋值号两边量的数据类型不同时，赋值右边量的类型转换为左边量的类型。如果右边量的数据类型长度比左边长时，将丢失一部分数据，这样会造成数据误差。</p>
		<pre><code class="language-c line-numbers">#include"stdio.h"
void main()
{
	float pi = 3.14159;
	int s, r = 5;
	s = r*r*pi;
	printf("s=%d\n",s);
}</code></pre>
		<p>输出结果为：</p>
		<pre><code class="language-text">s=78</code></pre>
		<li>强制类型转换</li>
		<p>强制类型转换是通过类型转换运算来实现的。其一般形式为：</p>
		<pre><code class="language-text">（类型说明符） （表达式）</code></pre>
		<p>其功能是把表达式的运算结果强制转换成类型说明符所表示的类型。</p>
		<pre><code class="language-c line-numbers">#include"stdio.h"
void main(){
        float f = 5.75;
        printf("(int)f=%d,f=%f\n",(int)f,f);
}</code></pre>
		<p>运行结果为：</p>
		<pre><code class="language-text">(int)f=5,f=5.750000</code></pre>
	</ol>
	<br><br>
</body>
</html>