<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <script src="../../../js/markdown.js"></script>
    <script src="../../../js/jquery.min.js"></script>

    <link rel="stylesheet" href="../../../css/content.css">

    <title>常用对象之表格</title>
</head>

<body>
    <textarea hidden id="content">
<!--Markdown从这里开始  -->
# 常用对象之表格

在创建表格时，我们需要对每个字段设置数据类型，Oracle中数据类型如下：

![img01](0002.png)

- CHAR：存储固定长度的字符串  char(5)


- VARCHAR2 ：存储可变长度的字符串 varchar2(5)


- NUMBER：存储整数和浮点数，格式为NUMBER(p, s)
  - column_name NUMBER：{p = 38,s= 0}
  - column_name NUMBER(p)：{整数}
  - column_name NUMBER(p, s)：{浮点数，s为小数位数}


- DATE：存储日期和时间数据


- TIMESTAMP：比DATE更精确
- BLOB：存储二进制对象，如图像、音频和视频文件
- CLOB：存储字符格式的大型对象

查询当前用户的所有表格：

```sql
SELECT * FROM tab;
```

## 一、表格的创建

创建表使用create table关键字，建立一张用来存储学生信息的表：

```sql
-- 字段包含学号、姓名、性别，年龄、入学日期、班级，email等信息
CREATE TABLE student (
	sno NUMBER(3),
	sname VARCHAR2(15),
	gender CHAR(3) DEFAULT '男',
	age NUMBER(2),
	sdate DATE,
	clazz VARCHAR2(30),
	email VARCHAR2(30)
);
```

## 二、表格的修改

修改表格使用alter table关键字。

```sql
-- 增加列：ADD
ALTER TABLE student ADD (address VARCHAR2(30));
-- 修改列名：RENAME COLUMN
ALTER TABLE student RENAME COLUMN address TO loc;
-- 修改列的类型：MODIFY
ALTER TABLE student MODIFY (loc CHAR(20));
-- 删除列：DROP
ALTER TABLE student DROP COLUMN loc;
```

对表格重命名使用rename to。

```sql
-- 对表格进行重命名
RENAME student TO stu;
```

## 三、表格的删除

使用关键字drop table来删除表格。

```sql
-- 删除表格
DROP TABLE student;
```

删除表格后回收站操作。

```sql
 -- recyclebin
-- 查询回收站
SELECT * FROM RECYCLEBIN;
-- 从回收站还原表格
FLASHBACK TABLE student TO BEFORE DROP;
-- 在还原表格的同时对表格进行重命名
FLASHBACK TABLE student TO BEFORE DROP RENAME TO s;
-- 从回收站彻底删除某张表
PURGE TABLE s;
-- 清空回收站
PURGE RECYCLEBIN;
-- 不经过回收站删除表格
DROP TABLE stu PURGE;
```
<!--Markdown从这里结束  -->
	</textarea>
    <div id="preview" class="container"></div>
    <script>
        $("#preview").html(marked($("#content").val()));
        $("table").addClass("table table-bordered table-striped");
    </script>

</body>

</html>