<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <script src="/js/markdown.js"></script>
    <script src="/js/jquery.min.js"></script>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/content.css">
	<link rel="stylesheet" href="/css/prism.css">
	<title>功能体现之方法</title>
</head>

<body>
    <textarea hidden id="content">
<!--Markdown从这里开始  -->
# 功能体现之方法
---

### 一、方法的定义

我们先不管方法和函数，它们都一样，方法就跟一个黑箱子一样，我们只需输入数据，然后它就会输出数据，至于中间对输入数据的处理，调用方法的时候不需要考虑，只需知道它实现的功能。当然，有时候并不要输入数据，也不一定会有输出的数据，它这时只作为一个功能处理的过程，为了重用某些功能而产生的。

Java中的方法类似于其它编程语言中的函数，是一段用来完成特定功能的代码片段，基本格式如下：

```java
[修饰符1 修饰符2 ...] 返回值类型 方法名（参数列表）{
	Java 语句; ......
}
```

- 参数列表：参数列表用于创建方法输入的数据，可以是任意类型的数据。
- 形式参数：在方法定义时使用的参数，只是临时用来当替身使用。
- 实际参数：在调用方法的时候，实际由参数形式输入的数据。
- 返回值类型：如果一个方法有返回值，则方法内需用return返回值。
- 方法名：遵循标识符命名规则，使用首单词小写的驼峰法命名，尽量做到见名知意，例：`eatFood()`;
- 修饰符：可以设置方法的权限等特征，后面我们会讲到。

**注意：**

- 在Java中调用方法传递参数时，基本数据类型传递的是该数据本身，引用类型传递的是对象的引用，而不是对对象本身，见测试代码Demo01。
- 在方法中定义的变量，只能在方法中使用，属于局部变量。

> 语句块与局部变量：
>
> - 语句块是用花括号`{ }`括起的任意数量的简单Java语句。
> - 块决定了局部变量的作用域，在哪个块里面定义的变量只能在哪个块使用。
> - 语句块可以嵌套。
> - 不能在两个嵌套的块中定义同名的变量。

引用类型作为参数时的传递情况代码：

```java
import java.util.Arrays;

public class Demo01 {
	public static void main(String[] args) {
		int[] a = {1,2,3,4,5,6,7,8};
		System.out.println(Arrays.toString(a));			// print: [1, 2, 3, 4, 5, 6, 7, 8]
		clear(a);
		System.out.println(Arrays.toString(a));			// print: [0, 0, 0, 0, 0, 0, 0, 0]
	}

	public static void clear(int[] b){
		for(int i=0;i<b.length;i++){
			b[i] = 0;
		}
	}
}
```

分析：定义的方法中，并没有返回数组，方法内的操作却对外面的数组起了作用，由此可知引用类型传递的是对象的引用，方法改变了原实参指向的数组。

### 二、return

关键字return是用于指定方法中返回的数据，因此运行return后，方法会终止。

- 在没有返回值的方法中也可以使用return，但不能返回值。
- 在有返回值的方法中必须有return。
- return返回的数据类型必须和方法的返回值类型一致。
- 在main方法中使用return能终止JVM的运行。

例如编写一个实现两个数相加的方法：

```java
public class Demo02 {
	public static void main(String[] args) {
		int a = 4;
		int b = 3;
		int sum = add(a,b);
		System.out.println(sum);		// print: 7
	}

	public static int add(int a,int b) {
		return a+b;
	}
}
```

### 三、main方法的参数

之前我们写了很多的实例，相信我们发现Java中的主方法是有输入参数的，主方法是一个程序的入口，也是整个程序运行的支撑，进入主方法中意味着程序的开始，主方法运行结束也意味着程序的结束，这也是为什么在主方法中添加return会终止JVM的运行，因为return能终止方法。我们仔细分析main方法的输入参数，发现它是一个字符串数组`String[] args`，这个字符串数组是在哪里输入的呢？我们用程序来解答。

```java
public class Demo04{
    public static void main(String[] args){
        for(int i=0;i<args.length;i++){
			System.out.println(args[i]);
		}
    }
}
```

在命令行窗口编译运行后结果：

![image](0002.png)

由图可知：main方法的参数是由命令行中运行java程序时输入，参数跟在类名后，用空格隔开，个数不限。

### 四、可变参数

在Java中定义方法，有时候会使用多个相同数据类型的参数，或者定义一个不确定参数数量的方法，这在实际应用中定义方法变得非常灵活。

例如编写一个实现任意个数相加的方法：

```java
public class Demo03 {
	public static int add(int...a) {
		int sum = 0;
		for(int i=0;i<a.length;i++){
			sum+=a[i];
		}
		return sum;
	}

	public static void main(String[] args) {
		System.out.println(""
				+ "1+2="+add(1,2)+"\n"					// print: 1+2=3
				+ "1+2+3="+add(1,2,3)+"\n"				// print: 1+2+3=6
				+ "1+2+3+4="+add(1,2,3,4)+"\n"			// print: 1+2+3+4=10
				+ "1+2+3+4+5="+add(1,2,3,4,5)+"\n");	// print: 1+2+3+4+5=15
	}
}
```

### 五、递归结构

递归是一种常见的解决问题的方法，即把问题逐渐简单化。 递归的基本思想就是“自己调
用自己”，一个使用递归技术的方法将会直接或者间接的调用自己，必须有终止递归的条件。

例如使用递归求阶乘：

```java
public class Demo05 {
	public static void main(String[] args) {
		System.out.println(""
				+"3!="+factorial(3)+"\n"			// print: 3!=6
				+"4!="+factorial(4)+"\n"			// print: 4!=24
				+"5!="+factorial(5)+"\n"			// print: 5!=120
				+"6!="+factorial(6)+"\n");			// print: 6!=720
	}

	public static int factorial(int n){
		if(n<2){
			return 1;
		}else{
			return n*factorial(n-1);
		}
	}
}
```

**递归的缺陷：**
简单的程序是递归的优点之一。但是递归调用会占用大量的系统堆栈，内存耗用多，在递
归调用层次多时速度要比循环慢的多。 所以再使用时要慎重。

**注意：**
任何可用递归解决的问题也能使用迭代解决。当递归方法可以更加自然地反映问题，并且易于理解和调试，并且不强调效率问题时，可以采用递归；在要求高性能的情况下尽量避免使用递归，递归调用既花时间又耗内存。
<!--Markdown从这里结束  -->
	</textarea>
    <div id="preview" class="container"></div>
    <script>
        $("#preview").html(marked($("#content").val()));
        $("table").addClass("table table-bordered table-striped");
    </script>
    <script src="/js/prism.js"></script>
</body>

</html>